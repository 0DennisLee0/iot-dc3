(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa1d3"],{1042:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-col",{attrs:{span:24}},[t("base-card",[t("avue-crud",{ref:"crud",attrs:{option:e.listOption,data:e.listData,page:e.page,"table-loading":e.loading},on:{"on-load":e.list,"row-save":e.listAdd,"row-del":e.listDelete,"row-update":e.listUpdate,"search-reset":e.searchReset,"search-change":e.searchChange,"refresh-change":e.refreshChange,"size-change":e.sizeChange,"current-change":e.currentChange},model:{value:e.listForm,callback:function(a){e.listForm=a},expression:"listForm"}})],1)],1)},r=[],s=(t("d3b7"),t("e285")),i=t("0e0b"),n={data:function(){return{query:{},listForm:{},listData:[],listOption:{tip:!1,index:!0,stripe:!0,border:!0,viewBtn:!0,height:664,align:"center",column:[{label:"位号",prop:"name",width:220,span:16,search:!0,searchSpan:6,rules:[{required:!0,message:"请输入 位号名称",trigger:"blur"},{min:2,max:32,message:"请输入 2~32 位字长的位号名称",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"请输入 正确格式的位号名称"}]},{label:"类型",prop:"type",width:120,span:8,search:!0,searchSpan:4,type:"select",searchFilterable:!0,value:"string",dicData:[{label:"字符串",value:"string"},{label:"整数",value:"int"},{label:"双精度浮点数",value:"double"},{label:"浮点数",value:"float"},{label:"长整数",value:"long"},{label:"开关量",value:"boolean"}],rules:[{required:!0,message:"请选择位号数据类型",trigger:"click"}]},{label:"读/写",prop:"rw",width:100,span:8,search:!0,searchSpan:4,type:"select",searchFilterable:!0,value:0,dicData:[{label:"只读",value:0},{label:"只写",value:1},{label:"读写",value:2}],rules:[{required:!0,message:"请选择位号读写类型",trigger:"click"}]},{label:"累计标识",prop:"accrue",width:100,span:8,search:!0,searchSpan:4,type:"select",searchFilterable:!0,value:!1,dicData:[{label:"累计",value:!0},{label:"不累计",value:!1}],rules:[{required:!0,message:"请选择位号是否为累计数据",trigger:"click"}]},{label:"值",prop:"value",width:100,span:8,searchSpan:12,disabled:!0,value:"--"},{label:"最小值",prop:"minimum",width:100,span:8,searchSpan:12,value:-999999,rules:[{pattern:/^-?(([0-9]*(\.[0-9]{1,3})$)|([0-9]+$))/,message:"请输入 正确格式的最小值"}]},{label:"最大值",prop:"maximum",width:100,span:8,searchSpan:12,value:999999,rules:[{pattern:/^-?(([0-9]*(\.[0-9]{1,3})$)|([0-9]+$))/,message:"请输入 正确格式的最大值"}]},{label:"倍数",prop:"multiple",width:80,span:8,searchSpan:12,value:1,rules:[{required:!0,message:"请输入 倍数",trigger:"blur"},{pattern:/^-?(([0-9]*(\.[0-9]{1,3})$)|([0-9]+$))/,message:"请输入 正确格式的倍数"}]},{label:"基值",prop:"base",width:80,span:8,searchSpan:12,value:0,rules:[{pattern:/^-?(([0-9]*(\.[0-9]{1,3})$)|([0-9]+$))/,message:"请输入 正确格式的基值"}]},{label:"格式",prop:"format",width:80,span:8,searchSpan:12,value:"%.3f",rules:[{required:!0,message:"请输入 格式",trigger:"blur"}]},{label:"单位",prop:"unit",width:80,span:8,searchSpan:12},{label:"所属模板",prop:"profileId",width:220,span:24,search:!0,searchSpan:6,type:"tree",dicData:[],defaultExpandAll:!0,rules:[{required:!0,message:"请选择所属模板",trigger:"click"}]},{label:"备注",prop:"description",width:200,span:24,type:"textarea",overHidden:!0,rules:[{max:380,message:"最多输入380个字符",trigger:"blur"}]},{label:"修改日期",prop:"updateTime",width:155,span:12,disabled:!0,type:"date",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"创建日期",prop:"createTime",width:155,span:12,disabled:!0,type:"date",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss"}]},loading:!0,page:{total:0,pageSize:20,currentPage:1}}},created:function(){this.profile()},methods:{list:function(e){var a=this;this.loading=!0,s["g"].list(Object.assign({page:{current:e.currentPage,size:e.pageSize}},this.query)).then((function(e){var t=e.data;a.page.total=t.total,a.listData=t.records})).finally((function(){a.loading=!1}))},profile:function(){var e=this;s["b"].profileDictionary().then((function(a){e.listOption.column[e.$refs.crud.findColumnIndex("profileId")].dicData=a.data})).catch((function(e){console.log(e)}))},listAdd:function(e,a,t){var l=this;s["g"].add(e).then((function(){t(),l.list(l.page),Object(i["a"])()})).finally((function(){a()}))},listDelete:function(e){var a=this;this.$confirm("是否删除该条数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s["g"].delete(e.id)})).then((function(){a.list(a.page),Object(i["a"])()}))},listUpdate:function(e,a,t,l){var r=this;s["g"].update(e).then((function(){l(),r.list(r.page),Object(i["a"])()})).finally((function(){t()}))},refreshChange:function(){this.list(this.page)},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},searchChange:function(e,a){this.query=e,this.list(this.page),a()},searchReset:function(){this.query={},this.list(this.page)}}},p=n,u=t("2877"),c=Object(u["a"])(p,l,r,!1,null,null,null);a["default"]=c.exports}}]);